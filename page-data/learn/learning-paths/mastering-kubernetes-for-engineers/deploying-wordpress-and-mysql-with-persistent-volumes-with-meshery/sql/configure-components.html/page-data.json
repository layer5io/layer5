{"componentChunkName":"component---src-templates-learn-chapter-js","path":"/learn/learning-paths/mastering-kubernetes-for-engineers/deploying-wordpress-and-mysql-with-persistent-volumes-with-meshery/sql/configure-components.html","result":{"data":{"chapter":{"body":"var _excluded = [\"components\"];\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nfunction _objectWithoutProperties(e, t) { if (null == e) return {}; var o, r, i = _objectWithoutPropertiesLoose(e, t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); for (r = 0; r < n.length; r++) o = n[r], -1 === t.indexOf(o) && {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]); } return i; }\nfunction _objectWithoutPropertiesLoose(r, e) { if (null == r) return {}; var t = {}; for (var n in r) if ({}.hasOwnProperty.call(r, n)) { if (-1 !== e.indexOf(n)) continue; t[n] = r[n]; } return t; }\n/* @jsxRuntime classic */\n/* @jsx mdx */\n\nvar _frontmatter = {\n  \"docType\": \"Chapter\",\n  \"id\": \"configure-components\",\n  \"chapterTitle\": \"Create and Configure Kubernetes Components\",\n  \"description\": \"In this section you will create and configure Persistent Volumes, Persistent Volume Claims and a Secret for the Database.\",\n  \"videos\": 4,\n  \"lectures\": 12,\n  \"order\": 3\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(ChapterStyle, {\n    mdxType: \"ChapterStyle\"\n  }, mdx(\"h2\", {\n    className: \"chapter-sub-heading\"\n  }, \"Create and Configure Secret for MySQL Database\"), mdx(\"p\", null, \"In this step, you create a Kubernetes secret component for the MySQL database. This is necessary because the configuration below is in the environment variables section of the mysql-deployment YAML file.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-yaml\"\n  }, \"env:\\n  - name: MYSQL_ROOT_PASSWORD\\n    valueFrom:\\n      secretKeyRef:\\n        name: mysql-pass\\n        key: password\\n\")), mdx(\"p\", null, \"Before you proceed, choose a password and convert it into base64 format. You can use an online tool for this conversion. For this example, the password is \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"password\"), \" and its base64 encoding is \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"cGFzc3dvcmQ=\"), \".\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Click on the Kubernetes icon on the dock, search for \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"secret\"), \", and click on it or drag it to the canvas.\")), mdx(\"br\", null), mdx(\"a\", {\n    href: wp8\n  }, mdx(\"img\", {\n    src: wp8,\n    width: \"100%\",\n    align: \"center\"\n  })), mdx(\"p\", null, mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Figure: Create secret component\")), mdx(\"ol\", {\n    \"start\": 2\n  }, mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Click on the Secret component to open the configuration window.\"), mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Set the \", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"name\"), \" as \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"mysql-pass\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Set the \", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"Type\"), \" as \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"Opaque\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Click \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"+\"), \" next to Data and add the secret as a key-value pair \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"password:cGFzc3dvcmQ=\"))))), mdx(\"br\", null), mdx(\"a\", {\n    href: wp9\n  }, mdx(\"img\", {\n    src: wp9,\n    width: \"100%\",\n    align: \"center\"\n  })), mdx(\"p\", null, mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Figure: Configure secret\")), mdx(\"ol\", {\n    \"start\": 3\n  }, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Click outside the window to close the configuration tab.\")), mdx(\"h2\", {\n    className: \"chapter-sub-heading\"\n  }, \"Create Persistent Volumes\"), mdx(\"p\", null, \"MySQL and WordPress each require a \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://kubernetes.io/docs/concepts/storage/persistent-volumes/\"\n  }, \"Persistent Volume (PV)\"), \" to store their data.\"), mdx(\"p\", null, \"For this tutorial, you will use the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"manual\"), \" StorageClassName and set the Persistent Volume to use the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"hostPath\"), \" type.\"), mdx(\"p\", null, \"Please note that using \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"hostPath\"), \" for Persistent Volumes is generally not recommended for production environments because it ties the volume to the node's filesystem, which can lead to data loss if the node fails. However, you can use it in this tutorial for development purposes.\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Click on the Kubernetes icon on the dock, search for \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"Persistent Volume\"), \", and select it. Create two PVs.\")), mdx(\"br\", null), mdx(\"a\", {\n    href: wp10\n  }, mdx(\"img\", {\n    src: wp10,\n    width: \"100%\",\n    align: \"center\"\n  })), mdx(\"p\", null, mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Figure: Create persistent volume\")), mdx(\"ol\", {\n    \"start\": 2\n  }, mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Click on the wordpress PV to open the configuration window.\"), mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Change the \\\"name\\\" to \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"wp-pv\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Set the \\\"StorageClassName\\\" as \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"manual\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Click \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"+\"), \" next to \\\"AccessMode\\\" and enter \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"ReadWriteOnce\"))))), mdx(\"br\", null), mdx(\"a\", {\n    href: wp11\n  }, mdx(\"img\", {\n    src: wp11,\n    width: \"100%\",\n    align: \"center\"\n  })), mdx(\"p\", null, mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Figure: Configure persistent volume\")), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"- Scroll down to \\\"Capacity\\\" and enter the key pair `storage:20Gi`\\n\")), mdx(\"br\", null), mdx(\"a\", {\n    href: wp12\n  }, mdx(\"img\", {\n    src: wp12,\n    width: \"100%\",\n    align: \"center\"\n  })), mdx(\"p\", null, mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Figure: Persistent volume capacity\")), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"- Scroll down to \\\"Hostpath\\\" and input `mnt/data/wp-pv` for the _path_ and `DirectoryOrCreate` for the _type_.\\n\")), mdx(\"br\", null), mdx(\"a\", {\n    href: wp13\n  }, mdx(\"img\", {\n    src: wp13,\n    width: \"100%\",\n    align: \"center\"\n  })), mdx(\"p\", null, mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Figure: Persistent volume hostpath\")), mdx(\"ol\", {\n    \"start\": 3\n  }, mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Repeat similar steps for the MySQL Persistent Volume\"), mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Click on the MySQL PV to open the configuration window.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Change the \\\"name\\\" to \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"mysql-pv\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Set the \\\"StorageClassName\\\" to \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"manual\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Click \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"+\"), \" next to \\\"AccessMode\\\" and set it to \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"ReadWriteOnce\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Scroll down to \\\"Capacity\\\" and enter the key pair \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"storage:20Gi\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Scroll down to \\\"Hostpath\\\" and input \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"mnt/data/mysql-pv\"), \" for the \", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"path\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"DirectoryOrCreate\"), \" for the \", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"type\"), \".\"))), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Click on \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"wp-pv-claim\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"mysql-pv-claim\"), \" and set their \\\"StorageClassName\\\" as \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"manual\"), \".\")))));\n}\n;\nMDXContent.isMDXComponent = true;","frontmatter":{"chapterTitle":"Create and Configure Kubernetes Components","description":"In this section you will create and configure Persistent Volumes, Persistent Volume Claims and a Secret for the Database."},"fields":{"slug":"learn/learning-paths/mastering-kubernetes-for-engineers/deploying-wordpress-and-mysql-with-persistent-volumes-with-meshery/sql/configure-components","course":"deploying-wordpress-and-mysql-with-persistent-volumes-with-meshery","learnpath":"mastering-kubernetes-for-engineers","chapter":"configure-components"}},"course":{"nodes":[{"frontmatter":{"courseTitle":"Deploying WordPress and MySql with Persistent Volumes with Meshery","meshesYouLearn":[{"imagepath":{"childImageSharp":null,"extension":"svg","publicURL":"/static/731763d720780a49c2ffdfede8c28f4b/istio.svg"},"name":"Istio"},{"imagepath":{"childImageSharp":null,"extension":"svg","publicURL":"/static/b4f4020971de42f6fb2497075a67f325/linkerd.svg"},"name":"Linkerd"},{"imagepath":{"childImageSharp":null,"extension":"svg","publicURL":"/static/f503223cc1f45e9ce77ea2a91f9ba1e8/mysql-database-color.svg"},"name":"sql"}]},"fields":{"slug":"learn/learning-paths/mastering-kubernetes-for-engineers/deploying-wordpress-and-mysql-with-persistent-volumes-with-meshery"}}]},"TOC":{"nodes":[{"frontmatter":{"order":7,"chapterTitle":"Conclusion"},"fields":{"section":"sql","chapter":"conclusion"}},{"frontmatter":{"order":4,"chapterTitle":"Add labels and Group Components"},"fields":{"section":"sql","chapter":"group-components"}},{"frontmatter":{"order":3,"chapterTitle":"Create and Configure Kubernetes Components"},"fields":{"section":"sql","chapter":"configure-components"}},{"frontmatter":{"order":5,"chapterTitle":"Validate and Deploy Resources"},"fields":{"section":"sql","chapter":"deploy"}},{"frontmatter":{"order":2,"chapterTitle":"Import Design Files and Merge"},"fields":{"section":"sql","chapter":"import-designs"}},{"frontmatter":{"order":1,"chapterTitle":"Introduction"},"fields":{"section":"sql","chapter":"introduction"}},{"frontmatter":{"order":6,"chapterTitle":"Visualize Deployed Resources"},"fields":{"section":"sql","chapter":"visualize"}}]},"serviceMeshesList":{"nodes":[{"fields":{"section":"sql"}},{"fields":{"section":"sql"}},{"fields":{"section":"sql"}},{"fields":{"section":"sql"}},{"fields":{"section":"sql"}},{"fields":{"section":"sql"}},{"fields":{"section":"sql"}}]}},"pageContext":{"learnpath":"mastering-kubernetes-for-engineers","slug":"learn/learning-paths/mastering-kubernetes-for-engineers/deploying-wordpress-and-mysql-with-persistent-volumes-with-meshery/sql/configure-components","course":"deploying-wordpress-and-mysql-with-persistent-volumes-with-meshery","section":"sql","chapter":"configure-components","pageType":"chapter"}},"staticQueryHashes":["3750885592","4047814605"],"slicesMap":{},"matchPath":"learn/learning-paths/mastering-kubernetes-for-engineers/deploying-wordpress-and-mysql-with-persistent-volumes-with-meshery/sql/configure-components"}