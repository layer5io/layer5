{
    "componentChunkName": "component---src-templates-learn-chapter-js",
    "path": "/learn/learning-paths/mastering-service-meshes-for-developers/introduction-to-service-meshes/linkerd/observability/",
    "result": {"data":{"chapter":{"body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"docType\": \"Chapter\",\n  \"chapterTitle\": \"Observability\",\n  \"description\": \"Meshery is the cloud native management plane which offers lifecycle, configuration, and performance management of service meshes and their workloads.\",\n  \"videos\": 4,\n  \"lectures\": 12,\n  \"order\": 6\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(ChapterStyle, {\n    mdxType: \"ChapterStyle\"\n  }, mdx(\"h2\", {\n    className: \"chapter-sub-heading\"\n  }, \"Linkerd Telemetry and Distributed Tracing\"), mdx(\"br\", null), mdx(\"h3\", {\n    className: \"chapter-sub-heading\"\n  }, \"Linkerd Telemetry\"), mdx(\"p\", null, \"Linkerd's telemetry and monitoring features function automatically, without requiring any work on the part of the developer.\"), mdx(\"p\", null, \"We have already looked at Linkerd Telemetry, not by name but by concept. Using stat, top and tap is one of the major and characterstic feature which Linkerd offers out of the box. All of this metrics are also accessible through Grafana Dashboard which Linkerd provides.\"), mdx(\"p\", null, \"Expose Grafana dashboard:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-sh\"\n  }, \"linkerd dashboard &\\n\")), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Start \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"linkerd dashboard\"), \" \", \"&\", \" navigate over the service you would want to see Grafana Dashboard for.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"In the last column, click of the \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"Grafana Icon\"), \" to access the metrics dashboard for the following deployment.\")), mdx(\"h3\", {\n    className: \"chapter-sub-heading\"\n  }, \"Distributed tracing with Linkerd\"), mdx(\"p\", null, \"Linkerd added support for Distributed Tracing, which means that if your application has enabled tracing based on B3 Propagation, Linkerd proxies would automatically recognize that (as the trace-id is propogated through http headers) and send their spans, provided that the proxies are configured regarding the meshed trace collector endpoint.\"), mdx(\"p\", null, \"To enable tracing onto your cluster :\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-sh\"\n  }, \"cat >> config.yaml << EOF\\ntracing:\\n  enabled: true\\nEOF\\n\")), mdx(\"p\", null, \"This configuration file can also be used to apply Add-On configuration (not just specific to tracing Add-On).\"), mdx(\"p\", null, \"Let us apply that configuration to the linkerd upgrade command using the --addon-config flag and pipe that output to kubectl apply.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-sh\"\n  }, \"linkerd upgrade --addon-config config.yaml | kubectl apply -f -\\n\")), mdx(\"p\", null, \"Before moving onto the next step, make sure everything is up and running with kubectl:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-sh\"\n  }, \"kubectl -n linkerd rollout status deploy/linkerd-collector\\nkubectl -n linkerd rollout status deploy/linkerd-jaeger\\n\")), mdx(\"h4\", {\n    className: \"chapter-sub-heading\"\n  }, \"Configure your sample application\"), mdx(\"p\", null, \"Apply the tracing configuration to the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"emojivoto application\"), \":\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-sh\"\n  }, \"kubectl -n emojivoto patch -f https://run.linkerd.io/emojivoto.yml -p '\\nspec:\\n  template:\\n    metadata:\\n      annotations:\\n        config.linkerd.io/trace-collector: linkerd-collector.linkerd:55678\\n        config.alpha.linkerd.io/trace-collector-service-account: linkerd-collector\\n'\\n\")), mdx(\"p\", null, \"Before moving onto the next step, make sure everything is up and running with kubectl:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-sh\"\n  }, \"kubectl -n emojivoto rollout status deploy/web\\n\")), mdx(\"p\", null, \"The above command enables tracing in the linkerd proxies but the application containers still don\\u2019t have it enabled. Tracing can be enabled in the sample application can be enabled by\"), mdx(\"p\", null, \"To enable tracing in emojivoto, run:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-sh\"\n  }, \" kubectl -n emojivoto set env --all deploy OC_AGENT_HOST=linkerd-collector.linkerd:55678\\n\")), mdx(\"h3\", {\n    className: \"chapter-sub-heading\"\n  }, \"Explore Jaeger\"), mdx(\"p\", null, \"Now, you can port-forward the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"linkerd-jaeger\"), \" service to checkout the traces.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-sh\"\n  }, \"kubectl -n linkerd port-forward svc/linkerd-jaeger 16686:16686\\n\")), mdx(\"p\", null, \"Now let's explore traces of the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"vote-bot\"), \" endpoint:\"), mdx(\"a\", {\n    href: Tracing\n  }, mdx(\"img\", {\n    src: Tracing,\n    width: \"100%\",\n    align: \"center\"\n  })), mdx(\"p\", null, \"So, As you can see there are spans of the linkerd-proxy. For each request between two meshed components, you can see there are four linkerd-proxy spans.\"), mdx(\"p\", null, \"The first two spans would be the spans sent from the proxy of the client component and will be marked as outbound. Again, in these two spans, the first one is the span of the application -> proxy, and the second one is the proxy->otherside. They are differentiated by the server and client tags respectively.\"), mdx(\"br\", null), mdx(\"h3\", {\n    className: \"chapter-sub-heading\"\n  }, \" Jaeger and Linkerd\"), mdx(\"br\", null), \"In Linkerd, as told above Grafana Integration is present in the `linkerd-web` ui through which which you can directly jump onto the dashboards of any workload like deployment, pod, etc.\", mdx(\"p\", null, \"Linkerd has done similar thing with Jaeger, if you have \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"tracing\"), \" enabled, if you navigate the Linkerd Dashboard, you should see a Jaeger icon on the right.\"), mdx(\"a\", {\n    href: JaegerUI\n  }, mdx(\"img\", {\n    src: JaegerUI,\n    width: \"100%\",\n    align: \"center\"\n  })), mdx(\"h3\", {\n    className: \"chapter-sub-heading\"\n  }, \"Cleanup the tracing components\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-sh\"\n  }, \"kubectl delete ns tracing emojivoto\\n\"))));\n}\n;\nMDXContent.isMDXComponent = true;","frontmatter":{"chapterTitle":"Observability","description":"Meshery is the cloud native management plane which offers lifecycle, configuration, and performance management of service meshes and their workloads."},"fields":{"slug":"learn/learning-paths/mastering-service-meshes-for-developers/introduction-to-service-meshes/linkerd/observability/","course":"introduction-to-service-meshes","learnpath":"mastering-service-meshes-for-developers","chapter":"observability"}},"course":{"nodes":[{"frontmatter":{"courseTitle":"Introduction to Service Meshes - Hands On","meshesYouLearn":[{"imagepath":{"childImageSharp":null,"extension":"svg","publicURL":"/static/731763d720780a49c2ffdfede8c28f4b/istio.svg"},"name":"Istio"},{"imagepath":{"childImageSharp":null,"extension":"svg","publicURL":"/static/b4f4020971de42f6fb2497075a67f325/linkerd.svg"},"name":"Linkerd"}]},"fields":{"slug":"learn/learning-paths/mastering-service-meshes-for-developers/introduction-to-service-meshes/"}}]},"TOC":{"nodes":[{"frontmatter":{"order":8,"chapterTitle":"Circuit Breaking"},"fields":{"section":"istio","chapter":"circuit-breaking"}},{"frontmatter":{"order":9,"chapterTitle":"Conclusion"},"fields":{"section":"istio","chapter":"conclusion"}},{"frontmatter":{"order":2,"chapterTitle":"Deploy a sample application"},"fields":{"section":"istio","chapter":"deploy-an-application"}},{"frontmatter":{"order":3,"chapterTitle":"Exposing services through Istio Ingress Gateway"},"fields":{"section":"istio","chapter":"expose-services"}},{"frontmatter":{"order":6,"chapterTitle":"Fault Injection"},"fields":{"section":"istio","chapter":"fault-injection"}},{"frontmatter":{"order":1,"chapterTitle":"Getting Started"},"fields":{"section":"istio","chapter":"getting-started"}},{"frontmatter":{"order":7,"chapterTitle":"Mutual TLS & Identity Verification"},"fields":{"section":"istio","chapter":"mutual-tls"}},{"frontmatter":{"order":4,"chapterTitle":"Observability"},"fields":{"section":"istio","chapter":"observability"}},{"frontmatter":{"order":5,"chapterTitle":"Request Routing and Canary Testing"},"fields":{"section":"istio","chapter":"routing-and-canary"}},{"frontmatter":{"order":9,"chapterTitle":"Conclusion"},"fields":{"section":"linkerd","chapter":"conclusion"}},{"frontmatter":{"order":4,"chapterTitle":"Linkerd Dashboard"},"fields":{"section":"linkerd","chapter":"dashboard"}},{"frontmatter":{"order":5,"chapterTitle":"Debugging (Optional)"},"fields":{"section":"linkerd","chapter":"debugging"}},{"frontmatter":{"order":2,"chapterTitle":"Deploy a sample application"},"fields":{"section":"linkerd","chapter":"deploy-an-application"}},{"frontmatter":{"order":3,"chapterTitle":"Exposing services through Linkerd Ingress"},"fields":{"section":"linkerd","chapter":"expose-services"}},{"frontmatter":{"order":8,"chapterTitle":"Fault Injection"},"fields":{"section":"linkerd","chapter":"fault-injection"}},{"frontmatter":{"order":1,"chapterTitle":"Getting Started"},"fields":{"section":"linkerd","chapter":"getting-started"}},{"frontmatter":{"order":7,"chapterTitle":"Traffic Splitting using SMI and Linkerd"},"fields":{"section":"linkerd","chapter":"traffic-splitting"}},{"frontmatter":{"order":6,"chapterTitle":"Observability"},"fields":{"section":"linkerd","chapter":"observability"}}]},"serviceMeshesList":{"nodes":[{"fields":{"section":"istio"}},{"fields":{"section":"istio"}},{"fields":{"section":"istio"}},{"fields":{"section":"istio"}},{"fields":{"section":"istio"}},{"fields":{"section":"istio"}},{"fields":{"section":"istio"}},{"fields":{"section":"istio"}},{"fields":{"section":"istio"}},{"fields":{"section":"linkerd"}},{"fields":{"section":"linkerd"}},{"fields":{"section":"linkerd"}},{"fields":{"section":"linkerd"}},{"fields":{"section":"linkerd"}},{"fields":{"section":"linkerd"}},{"fields":{"section":"linkerd"}},{"fields":{"section":"linkerd"}},{"fields":{"section":"linkerd"}}]}},"pageContext":{"learnpath":"mastering-service-meshes-for-developers","slug":"learn/learning-paths/mastering-service-meshes-for-developers/introduction-to-service-meshes/linkerd/observability/","course":"introduction-to-service-meshes","section":"linkerd","chapter":"observability","pageType":"chapter"}},
    "staticQueryHashes": ["112401468","1247637131","1485533831","1556364868","1872757318","2104129793","2376360048","2535621439","2799848284","3127805956","3180254910","3205812809","3331006692","3403127739","3469917121","3532464890","3657813679","3666442589","3831724438","4047814605","426370538","673082005","78753834","7929417","803866341"]}