"use strict";(self.webpackChunkLayer5=self.webpackChunkLayer5||[]).push([[94992],{16800:function(e,t,n){n.r(t),n.d(t,{Head:function(){return h},default:function(){return m}});var a=n(39626),r=n(67294),l=(n.p,n.p,"data:image/webp;base64,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");function o(e){var t=Object.assign({pre:"pre",code:"code",p:"p"},(0,a.ah)(),e.components),n=t.BlogWrapper;return n||function(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("BlogWrapper",!0),r.createElement(n,null,r.createElement("div",{className:"intro "},r.createElement("p",null,"Delivering a high quality user experience is our pinnacle goal in the design of Meshery's CLI: ",r.createElement("code",null,"mesheryctl"),". Delivering a high quality user experience means testing both qualitatively and quantatively. As a concept, quality - whether you're talking about software or anything else - can be directly measured by consistency. A quality user experience is consistent and consistency of ",r.createElement("code",null,"mesheryctl")," is reinforced by its many unit tests.")),r.createElement("p",null,r.createElement("code",null,"mesheryctl")," is written in Golang. In the Meshery project, we use CodeCov to calculate the code coverage across ",r.createElement("code",null,"mesheryctl"),"'s line of code. And there are plenty of lines of code. Achieving high percentages of code coverage in Meshery's CLI with grows in criticality as we bring more features into ",r.createElement("code",null,"mesheryctl")," as a robust and sophisticated command line client of Meshery. Unit and integration tests bolster and roll up into broader end-to-end, functional testing performed across Meshery and the rest of its components. "),r.createElement("p",null,"High levels of code coverage makes it easier for each project contributor to be confident that their code changes aren’t breaking any preexisting ",r.createElement("code",null,"mesheryctl")," commands, side-swiping their functionality unknowingly, and consequently, unwittingly lowering the quality of Meshery's overall user experience."),r.createElement("h3",null," mesheryctl lines of code"),r.createElement(t.pre,null,r.createElement(t.code,{className:"language-yaml"},"\n    270 text files.\n    106 unique files.\n    166 files ignored.\n\n    cloc v 1.92  T=0.15 s (692.3 files/s, 110063.3 lines/s)\n    ------------------------------------------------------------------\n    Language       files          blank        comment           code\n    ------------------------------------------------------------------\n    Go                88           2128           1330          13045\n    YAML              12              0              0            215\n    JSON               4              0              0             42\n    make               1             10              2             31\n    Markdown           1             23              0             27\n    ------------------------------------------------------------------\n    SUM:             106           2161           1332          13360\n    ------------------------------------------------------------------\n")),r.createElement("p",null,"Unit Tests can be written in two ways:"),r.createElement("ol",null,r.createElement("li",null,r.createElement(t.p,null,"Test ",r.createElement("code",null,"mesheryctl")," subcommand"),r.createElement("ol",null,r.createElement("li",null,"Mock Meshery(backend) response if needed"),r.createElement("li",null,"Grab console output"),r.createElement("li",null,"Store standard/verified mesheryctl output in a golden file(a text file)"),r.createElement("li",null,"Match the stored/expected output with what we grab from the console"),r.createElement("li",null,"Cover as many scenarios as possible, test the situations where errors must be thrown"),r.createElement("li",null,"This is a standard format, changes can be made accordingly"))),r.createElement("li",null,r.createElement(t.p,null,"Test ",r.createElement("code",null,"mesheryctl")," functions"),r.createElement("ol",null,r.createElement("li",null,"This is the standard testing you may have come across in every project"),r.createElement("li",null,"You write one test dedicated to one function covering all possible test-cases, matching expected outputs")))),r.createElement("h3",null,"Example tree graph"),r.createElement("p",null,"This example of a tree graph (from ",r.createElement("a",{href:"https://github.com/meshery/meshery/pull/4823"},"meshery/meshery/pull/4823"),") shows the impact given changes make on the level of code coverage."),r.createElement("img",{src:l}),r.createElement("h3",null,"Integration Tests"),r.createElement("p",null,"Integrations tests come into view when you cannot mock something easily and when a given behavior is cross-functional / cross-component. Integration tests put more, but not all of the focus validating system behavior and that the system completes all the necessary actions. Take ",r.createElement("code",null,"mesheryctl system start")," for example. This command deploys Meshery, its adapters, and Kubernetes Operator; it starts Meshery. So, you run the command to start Meshery in a GitHub workflow and after running the ",r.createElement("code",null,"mesheryctl")," subcommand through the tests and make sure that Meshery actually started. And if the workflow successfully runs the test, then boom!, you aced your integration writing test... errr... test writing."),r.createElement("p",null,"The integration test writing exam can initially be challenging, but... that’s the fun in it. :) Running tests and making sure a command that is otherwise hard to verify, hard to test, and making it automatic through GH workflows."),r.createElement("h3",null,"How you can make an impact"),r.createElement("p",null,"Writing tests and making them work is in itself a tough task to do, so writing one test for a single function counts and makes a big difference over the long term. Don't hesitate. Start writing tests now. A single, new test is worthy of raising a pull request and will get you well on your way to learning much more about Golang, Docker, Kubernetes, and service meshes."),r.createElement("ul",null,r.createElement("li",null,r.createElement("a",{href:"https://codecov.io/gh/meshery/meshery/"},"Codecov")," is used to check code coverage in ",r.createElement("code",null,"mesheryctl")," (login with GitHub to get an in-depth idea of lines-of-code being covered in code coverage)."),r.createElement("li",null,"You can check the files on CodeCov’s website to figure out which mesheryctl commands haven’t been covered by existing tests."),r.createElement("li",null,"Guide: ",r.createElement("a",{href:"https://docs.google.com/document/d/1xRlFpElRmybJ3WacgPKXgCSiQ2poJl3iCCV1dAalf0k/edit#heading=h.rzpmb66db1sq"},"Writing tests for mesheryctl"),". This guide will briefly introduce how tests are supposed to be written for mesheryctl."),r.createElement("li",null,"Contributing to Tests doesn’t always mean writing new tests, It also means improving the effectiveness of already written-ones."),r.createElement("li",null," Search for Issues marked with area/tests in ",r.createElement("a",{href:"https://github.com/meshery/meshery"},"GitHub - meshery/meshery"),": Meshery, the cloud native management plane.")),r.createElement("p",null,"The impact that you make with by writing even a single test is quite high. Your tests will be executed and used time-and-time again. I can’t explain in words (I don’t have that good of a vocabulary). Your Tests are going to run in each pull request raised against the Meshery project, in each commit someone pushes to a pull request, in every nightly regression test suite, in every release. Just think: if another contributor incidently introduces a defect or doesn't consider for an edge case, and fails to uphold the intended behavior of the code, your tests are going to catch them redhanded. How cool is that?"),r.createElement("p",null,"So, what are you waiting for? Jump in and write a few tests today! When you raise your pull request, label it with ",r.createElement("code",null,"area/tests")," and ",r.createElement("code",null,"component/mesheryctl")," and I'll be there to review! Let’s get ",r.createElement("code",null,"mesheryctl")," 100% code coverage badge."))}var s=function(e){void 0===e&&(e={});var t=Object.assign({},(0,a.ah)(),e.components).wrapper;return t?r.createElement(t,e,r.createElement(o,e)):o(e)};var i=n(17875),c=n(85235),u=function(e){var t=e.data,n=e.children;return r.createElement(r.Fragment,null,r.createElement(c.Z,{data:t},n))};function m(e){return r.createElement(u,e,r.createElement(s,e))}var h=function(e){var t=e.data;return r.createElement(i.Z,{title:t.mdx.frontmatter.title,image:t.mdx.frontmatter.thumbnail.publicURL})}}}]);