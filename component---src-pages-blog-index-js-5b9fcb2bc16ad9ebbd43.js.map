{"version":3,"file":"component---src-pages-blog-index-js-5b9fcb2bc16ad9ebbd43.js","mappings":"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","sources":["webpack://Layer5/./src/sections/Blog/Blog-grid/blogGrid.style.js","webpack://Layer5/./src/sections/Blog/Blog-grid/index.js","webpack://Layer5/./src/pages/blog/index.js"],"sourcesContent":["import styled from \"styled-components\";\nexport const BlogPageWrapper = styled.div`\n  .blog-grid-wrapper {\n    margin: 5rem auto;\n  }\n  .tooltip-search {\n    margin-bottom: 0.8rem;\n  }\n\n  @media only screen and (max-width: 575px) {\n    .blog-grid-wrapper {\n      margin: 0 auto 1rem;\n    }\n  }\n\n  @media only screen and (max-width: 992px) {\n    .blog-page-wrapper {\n      margin-bottom: 5rem;\n    }\n\n    .post-meta-block {\n      height: 3.5rem;\n    }\n  }\n\n  @media only screen and (min-width: 575px) {\n    .tooltip-search {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      margin-bottom: 0;\n    }\n  }\n  /* @media only screen and (min-width: 990px) {\n    .tooltip-search {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n    }\n  } */\n`;\n","import React, {  useState } from \"react\";\nimport { Container, Row, Col } from \"../../../reusecore/Layout\";\nimport PageHeader from \"../../../reusecore/PageHeader\";\nimport Sidebar from \"../Blog-sidebar\";\nimport RssFeedIcon from \"../../../assets/images/socialIcons/rss-sign.svg\";\nimport { BlogPageWrapper } from \"./blogGrid.style\";\nimport Card from \"../../../components/Card\";\nimport BlogViewToolTip from \"../../../components/blog-view-tooltip\";\nimport SearchBox from \"../../../reusecore/Search\";\nimport Pagination from \"../../Resources/Resources-grid/paginate\";\nimport useDataList from \"../../../utils/usedataList\";\n\n\nconst BlogGrid = ({\n  isListView,\n  setListView,\n  setGridView,\n  pageContext,\n  data,\n  theme\n}) => {\n  const [currentPage, setCurrentPage] = useState(1);\n  const [postsPerPage] = useState(10);\n  const indexOfLastPost = currentPage * postsPerPage;\n  const indexOfFirstPost = indexOfLastPost - postsPerPage;\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const { queryResults, searchData } = useDataList(\n    data.allMdx.nodes,\n    setSearchQuery,\n    searchQuery,\n    [\"frontmatter\", \"title\"],\n    \"id\"\n  );\n  const searchedPosts = queryResults.slice(indexOfFirstPost, indexOfLastPost);\n  // Change page\n  const paginate = (pageNumber) => {\n    setCurrentPage(pageNumber);\n  };\n  return (\n    <BlogPageWrapper>\n      <PageHeader\n        title=\"Blog\"\n        path=\"Blog\"\n        img={RssFeedIcon}\n        feedlink=\"/blog/feed.xml\"\n      />\n      <div className=\"blog-page-wrapper\">\n        <Container>\n          <Row>\n            <Col xs={12} lg={8}>\n              <div className=\"tooltip-search\">\n                <BlogViewToolTip\n                  isListView={isListView}\n                  setListView={setListView}\n                  setGridView={setGridView}\n                />\n                <SearchBox searchQuery={searchQuery} searchData={searchData} paginate={paginate} currentPage={currentPage} />\n              </div>\n              <div className=\"blog-grid-wrapper\">\n                <Row>\n                  {queryResults.length < 1 && (\n                    <Col xs={12} sm={6}>\n                      No blog post that matches the title \"{searchQuery}\" found.\n                    </Col>\n                  )}\n\n                  {searchedPosts.length > 0 && searchedPosts.map(({ id, frontmatter, fields }) => (\n                    <Col key={id} xs={12} sm={6}>\n                      <Card theme={theme} frontmatter={frontmatter} fields={fields} />\n                    </Col>\n                  ))}\n                  <Col>\n                    {searchedPosts.length > 0 && (\n                      <Pagination\n                        postsPerPage={postsPerPage}\n                        totalPosts={queryResults.length}\n                        paginate={paginate}\n                        currentPage={currentPage}\n                      />\n                    )}\n                  </Col>\n                </Row>\n              </div>\n            </Col>\n            <Col xs={12} lg={4}>\n              <Sidebar pageContext={pageContext} />\n            </Col>\n          </Row>\n        </Container>\n      </div>\n    </BlogPageWrapper>\n  );\n};\n\nexport default BlogGrid;\n","import React, { useState, useEffect } from \"react\";\nimport { ThemeProvider } from \"styled-components\";\n\nimport Layout from \"../../components/layout\";\nimport SEO from \"../../components/seo\";\n\nimport BlogGrid from \"../../sections/Blog/Blog-grid\";\nimport Navigation from \"../../sections/General/Navigation\";\nimport Footer from \"../../sections/General/Footer\";\nimport { GlobalStyle } from \"../../sections/app.style\";\nimport { graphql } from \"gatsby\";\nimport { darktheme } from \"../../theme/app/themeStyles\";\nimport lighttheme from \"../../theme/app/themeStyles\";\nimport loadable from \"@loadable/component\";\n\nconst BlogList = loadable(() => import (\"../../sections/Blog/Blog-list\"));\n\nexport const query = graphql`\n  query allBlogs {\n    allMdx(\n      sort: { fields: [frontmatter___date], order: DESC }\n      filter: {\n        fields: { collection: { eq: \"blog\" } }\n        frontmatter: { published: { eq: true } }\n      }\n    ) {\n      nodes {\n        id\n        body\n        frontmatter {\n          title\n          date(formatString: \"MMM Do, YYYY\")\n          author\n          thumbnail {\n            childImageSharp {\n              gatsbyImageData(layout: FULL_WIDTH)\n            }\n            extension\n            publicURL\n          }\n          darkthumbnail {\n            childImageSharp {\n              gatsbyImageData(layout: FULL_WIDTH)\n            }\n            extension\n            publicURL\n          }\n        }\n        fields {\n          slug\n        }\n      }\n    }\n  }\n`;\n\nconst Blog = (props) => {\n  const [isListView, setIsListView] = useState(false);\n\n  const setListView = () => {\n    setIsListView(true);\n  };\n  const setGridView = () => {\n    setIsListView(false);\n  };\n\n  useEffect(() => {\n    if (props.location.state) {\n      if (props.location.state.isListView) setListView();\n    }\n  }, []);\n\n  let BlogView = (props) => {\n    if (isListView) return <BlogList {...props} />;\n    return <BlogGrid {...props} />;\n  };\n  const [theme, setTheme] = useState();\n  const themeSetter = (thememode) => {\n    setTheme(thememode);\n  };\n\n  return (\n    <ThemeProvider theme={theme === \"light\" ? lighttheme : darktheme}>\n      <Layout>\n        <GlobalStyle />\n        <Navigation theme={theme} themeSetter={themeSetter} />\n        <BlogView\n          isListView={isListView}\n          setListView={setListView}\n          setGridView={setGridView}\n          pageContext={props.pageContext}\n          data={props.data}\n          theme={theme}\n        />\n        <Footer />\n      </Layout>\n    </ThemeProvider>\n  );\n};\n\nexport default Blog;\n\nexport const Head = () => {\n  return <SEO title=\"Blog\" description=\"The latest news and announcements about Layer5, our products, and our ecosystem, as well as voices from across our community.\" />;\n};"],"names":["BlogPageWrapper","styled","isListView","setListView","setGridView","pageContext","data","theme","useState","currentPage","setCurrentPage","postsPerPage","indexOfLastPost","indexOfFirstPost","searchQuery","setSearchQuery","useDataList","allMdx","nodes","queryResults","searchData","searchedPosts","slice","paginate","pageNumber","PageHeader","title","path","img","RssFeedIcon","feedlink","className","xs","lg","Search","length","sm","map","id","frontmatter","fields","key","Card","totalPosts","BlogList","loadable","props","setIsListView","useEffect","location","state","BlogView","setTheme","ThemeProvider","lighttheme","darktheme","Navigation","themeSetter","thememode","Footer","Head","description"],"sourceRoot":""}